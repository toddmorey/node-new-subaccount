<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <title>OnMachina Docs: Node Created Successfully</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/_astro/index.48b52f29.css" /><script type="module">const c=new URLSearchParams(window.location.search),l=c.get("node"),i=c.get("port"),s=c.get("device"),m=c.get("path");a("node",l);a("port",i);a("device",s);a("path",m);function a(t,e){const o=document.querySelectorAll(`[data-param="${t}"]`);for(let n of o)n instanceof HTMLInputElement?n.value=e:n.innerText=e}function u(t,e){let o;return function(...n){const d=this;clearTimeout(o),o=setTimeout(()=>t.apply(d,n),e)}}function p(t){const e=document.querySelector(`#${t}`),o=document.querySelectorAll('span[data-param="node"]');console.log(o);const n=u(d=>{for(let r of o)r.innerText=d.target.value},300);e.addEventListener("input",n)}p("node");document.getElementById("copy-button").addEventListener("click",()=>{const t=document.getElementById("docker-command").textContent?.trim();navigator.clipboard.writeText(t).then(()=>{console.log("Command copied to clipboard")}).catch(e=>{console.error("Could not copy command: ",e)})});
</script></head>

  <body class="bg-slate-900 text-slate-400">
    <main class="max-w-8xl relative mx-auto flex justify-center sm:px-2 lg:px-8 xl:px-12">
      <div class="min-w-0 max-w-2xl flex-auto px-4 py-10 lg:max-w-none lg:pl-8 lg:pr-0 xl:px-16">
        
	<h1 class="text-2xl tracking-tight text-white mb-5 astro-J7PV25F6">
		Your new node <span data-param="node" class="text-cyan-500 font-bold astro-J7PV25F6">[node name]</span> was created successfully!
	</h1>
	<h2 class="text-xl text-cyan-500 mb-4 astro-J7PV25F6">Here are the next steps:</h2>
	<h3 class="mt-10 mb-5 astro-J7PV25F6">
		1. Look over and ajdust the settings below so we can provide you the
		right Docker command.
	</h3>
	<div class="max-w-2xl my-6">
    <form class="w-full max-w-sm bg-slate-800 text-white p-8 rounded-md shadow-md" method="post" action="/add-node/">
        <input type="hidden" name="accountid" value="{accountId}">
        <div class="mb-4">
            <label class="block text-cyan-200 text-sm font-bold mb-2" for="shard">
                Shard to join
            </label>
            <select name="shard" id="shard" class="bg-cyan-100 w-full px-1 py-2 border border-slate-300 rounded-md focus:outline-none focus:border-indigo-500 text-black">
                <option value="onmachina">OnMachina Testnet</option>
                <option value="another">Another</option>
                <option value="third">Thrid</option>
            </select>
        </div>
        <div class="mb-4">
            <label class="block text-cyan-200 text-sm font-bold mb-2" for="node">
                NEAR sub-account for this node
            </label>
            <input class="bg-cyan-100 text-black w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:border-indigo-500" type="text" id="node" name="node" placeholder="node01" data-param="node">
            <p class="text-sm mt-2 text-slate-300">
                This new NEAR account was added to your account by the script
                that just ran.
            </p>
        </div>
        <div class="mb-4">
            <label class="block text-cyan-200 text-sm font-bold mb-2" for="port">
                Port to run service on
            </label>
            <input class="bg-cyan-100 text-black w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:border-indigo-500" type="text" id="port" name="port" placeholder="5000" data-param="port">
        </div>
        <div class="mb-4">
            <label class="block text-cyan-200 text-sm font-bold mb-2" for="device">
                Device on server to mount
            </label>
            <input class="bg-cyan-100 text-black w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:border-indigo-500" type="text" id="device" name="device" data-param="device">
        </div>
        <div class="mb-4">
            <label class="block text-cyan-200 text-sm font-bold mb-2" for="path">
                Storage path
            </label>
            <input class="bg-cyan-100 text-black w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:border-indigo-500" type="text" id="path" name="path" placeholder="/mnt/storage" data-param="path">
        </div>
    </form>
</div>
	<h3 class="mt-10 mb-5 astro-J7PV25F6">2. Download the OnMachina Node Docker image</h3>
	<div class="callout mb-6 rounded-md bg-slate-800 px-4 py-2 shadow-md max-w-2xl astro-J7PV25F6">
		<div class="text-lg docker-image -mx-4 -my-2 flex items-center px-4 py-4 astro-J7PV25F6">
			<div class="mr-1 flex-none text-cyan-200 astro-J7PV25F6">
				<svg viewBox="0 0 32 32" class="astro-J7PV25F6" astro-icon="la:docker"><path fill="currentColor" d="M12 6v3H6v3H3v3h-.938a1 1 0 0 0-.78.406s-.087.106-.126.188c-.039.082-.066.207-.093.312a2.97 2.97 0 0 0-.094.813c0 .687.082 1.449.281 2.218A5.83 5.83 0 0 0 1 19h.281a9.42 9.42 0 0 0 .969 2.313c.012.019.02.042.031.062v.031c.059.242.203.453.406.594l.032.031c.168.235.336.465.531.688 1.637 1.883 4.277 3.312 8.031 3.312 5.766 0 10.758-2.375 13.75-7.031h5.063c-.633-.16-2.008-.39-1.782-1.219-.699.809-1.992.98-3.062.844.352-.582.68-1.195.969-1.844 1.656-.097 2.914-.656 3.625-1.343.812-.786 1.062-1.688 1.062-1.688a1 1 0 0 0-.312-1.031s-1.512-1.059-3.688-.844c-.746-1.992-2.312-2.969-2.312-2.969a1.006 1.006 0 0 0-.688-.125.987.987 0 0 0-.437.219s-.457.406-.813 1.063c-.355.656-.676 1.652-.562 2.906.043.46.324.867.5 1.312-.125.078-.242.168-.407.25a4.689 4.689 0 0 1-2.093.469H20v-3h-3V6zm2 2h1v1h-1zm-6 3h1v1H8zm3 0h1v1h-1zm3 0h1v1h-1zm10.344.313c.36.406.75.98.906 1.812a1.004 1.004 0 0 0 1.25.781c.906-.246 1.566-.168 2.031-.031-.054.066-.02.055-.093.125-.458.441-1.223.934-2.813.875a1.007 1.007 0 0 0-.969.625c-.449 1.113-.972 2.113-1.593 3-1.477.574-4.762.152-5.032-.594-.976 1.145-3.988 1.145-4.968 0-.317.88-4.876 1.285-5.657.157-.629.585-2.918.976-4.218.093A7.56 7.56 0 0 1 3.03 17h17.063a6.72 6.72 0 0 0 2.968-.688 6.794 6.794 0 0 0 1.219-.75.983.983 0 0 0 .469-.671.988.988 0 0 0-.188-.797c-.265-.348-.417-.774-.468-1.313-.063-.703.097-1.11.25-1.469zM5 14h1v1H5zm3 0h1v1H8zm3 0h1v1h-1zm3 0h1v1h-1zm3 0h1v1h-1zM3.406 19h19.282c-2.633 3.406-6.614 5.031-11.407 5.031-2.511 0-4.273-.676-5.531-1.656 2.125-.074 3.656-.625 3.656-.625a1.002 1.002 0 1 0-.5-1.938c-.054.016-.105.04-.156.063 0 0-2.191.719-4.781.406A7.067 7.067 0 0 1 3.406 19zm7.313.188a.601.601 0 0 0-.594.593c0 .32.273.594.594.594.32 0 .562-.273.562-.594a.583.583 0 0 0-.031-.218.253.253 0 0 1-.219.125c-.133 0-.219-.118-.219-.25 0-.09.024-.149.094-.188-.066-.027-.113-.063-.187-.063z"/></svg>
			</div>
			<div class="astro-J7PV25F6"><a href="#" class="astro-J7PV25F6">Docker image download (500MB)</a></div>
		</div>
	</div>
	<h3 class="mt-10 mb-5 astro-J7PV25F6">
		3. Copy the file <span class="text-cyan-500 astro-J7PV25F6">./onmachina.json</span> (just
		generated by this script) into the root of your object server mount
	</h3>
	<div class="max-w-2xl astro-J7PV25F6">
		<div class="callout mb-6 rounded-md bg-slate-800 px-4 py-2 shadow-md">
  <div class="callout-label -mx-4 -my-2 mb-1 flex items-center bg-slate-900/40 px-4 py-2 text-amber-500 bg-gradient-to-r from-amber-600/10 to-10% to-slate-900/40">
    <div class="mr-1 flex-none">
      <svg viewBox="0 0 24 24" astro-icon="fluent:warning-24-regular"><path fill="currentColor" d="M10.91 2.782a2.25 2.25 0 0 1 2.975.74l.083.138 7.759 14.009a2.25 2.25 0 0 1-1.814 3.334l-.154.006H4.243a2.25 2.25 0 0 1-2.041-3.197l.072-.143L10.031 3.66a2.25 2.25 0 0 1 .878-.878zm9.505 15.613-7.76-14.008a.75.75 0 0 0-1.254-.088l-.057.088-7.757 14.008a.75.75 0 0 0 .561 1.108l.095.006h15.516a.75.75 0 0 0 .696-1.028l-.04-.086-7.76-14.008 7.76 14.008zM12 16.002a.999.999 0 1 1 0 1.997.999.999 0 0 1 0-1.997zM11.995 8.5a.75.75 0 0 1 .744.647l.007.102.004 4.502a.75.75 0 0 1-1.494.103l-.006-.102-.004-4.502a.75.75 0 0 1 .75-.75z"/></svg>
    </div>
    <div>Warning: Your credentials are sensitive!</div>
  </div>
  
			<p class="text-white py-3 astro-J7PV25F6">
				Make to carefully protect the values inside of <code class="astro-J7PV25F6">onmachina.json</code>
			</p>
		
</div>
	</div>

	<h3 class="mt-10 mb-5 astro-J7PV25F6">4. Run the docker image with this command:</h3>
	<div class="codeblock my-3 p-3 astro-J7PV25F6" id="docker-command">
		<pre class="astro-J7PV25F6"><span class="text-cyan-100 astro-J7PV25F6">docker</span> run -d --name onmachina -p <span class="text-white astro-J7PV25F6" data-param="port">3000</span>:<span class="text-white astro-J7PV25F6" data-param="port">3000</span> -v <span class="text-white astro-J7PV25F6" data-param="path">/path/to/object/server</span>:/dataghcr.io/onmachina/onmachina-node:latest</pre>
	</div>

	<button id="copy-button" class="bg-slate-700 text-white text-sm font-bold py-2 px-4 rounded-md hover:bg-indigo-600 transition duration-300 astro-J7PV25F6">Copy Command</button>

      </div>
    </main>
  </body></html>

